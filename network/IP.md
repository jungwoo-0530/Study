# IP,서브넷 마스크, 게이트웨이, 공인IP vs 사설 IP

![Screenshot of Safari (2022-11-17 10-41-58 AM)](img/IP/Screenshot of Safari (2022-11-17 10-41-58 AM).png)

- IPv4 네트워크 주소는 일반적으로 0~255까지의 각 숫자가 점으로 구분된 4개의 십진수로 구성된 4바이트로 구성됩니다. 장치와 네트워크를 분류하고 관리하기 위해 IP 주소도 네트워크 주소와 호스트 주소의 두 부분으로 나뉩니다.
- 네트워크 주소(network ID)
  - 이 IP 주소가 속한 인터넷 네트워크를 나타내기 위해 앞에 입력합니다.
  - 네트워크를 구분 짓는 ID입니다. 네트워크 ID가 같다는 의미는 같은 네트워크 상에 있다는 의미로, 같은 네트워크에 있다면 서로 자유롭게 통신을 할 수 있습니다. 즉, 서로 ping을 날릴 수 있고, 공유 폴더를 만들 수도 있습니다. 하나의 네트워크 ID에는 여러 기기가 있을 수 있습니다.
- 호스트 주소(host ID)
  - 뒤에 넣어 특정 네트워크에서 이 IP 주소가 속한 장치를 나타냅니다.
  - 해당 네트워크에 속한 사용자에게 부여하는 고유의 번호입니다.
- 네트워크 ID와 호스트 ID는 마스터-슬래이프 관계입니다.

<img src="img/IP/Screenshot of Safari (2022-11-17 10-53-52 AM).png" alt="Screenshot of Safari (2022-11-17 10-53-52 AM)" style="zoom:50%;" />

- 위와 같이 네트워크 ID로 클래스를 나눕니다.

- 예로 `130.34.xxx.xxx`라는 IP주소가 있다면 B클래스에 속하는 IP이고 앞자리 130.34가 같은 IP들은 같은 네트워크에 있다는 의미입니다.

  

## IP Address, Host

### IP 주소

- Internet Protocol Address
- 인터넷 공간에서 자기 PC가 사용하는 고유한 식별자. 보통 IP주소는 IPv4주소를 의미.
- IPv4는 32bit, IPv6 128bit
- 클래스
  - IP주소 첫 번째 자리 숫자에 따라 클래스가 나뉜다. A, B, C클래스 외에 D, E클래스도 있다.
  - 클래스 IP주소 첫번째 자리
    - A 클래스 1~127
      - 일반적으로 대규모 네트워크에 사용
    - B 클래스 128~191
      - 일반적으로 중간 규모 네트워크에 사용
    - C 클래스 192~223
      - 일반적으로 소규모 네트워크에 사용
    - D 클래스 224~239
      - 멀티캐스트 주소(일대다 통신)용으로 예약되어 있습니다.
    - E 클래스 240~247
      - 일반적으로 연구 목적으로 향후 사용을 위해 예약되어 있씁니다.
  - 클래스는 하나의 IP주소에서 네트워크 ID와 호스트 ID를 구분짖는 규약
  - 클래스를 구분짖는 이유는 네트워크 ID의 크기에 따른 분류이다.





### Host

- 네트워크(인터넷)에 연결된 각각의 장치(컴퓨터)들을 host라고 한다.
- hosts파일
  - 클라이언트가 서버의 ip주소를 기억해서 매번 접속하기는 힘들다. ip주소에 도메인 네임을 설정해서 좀 더 쉽게 접속할 수 있다.
  - 모든 운영체제에는 hosts라는 파일이 있다. hosts파일에는 "www.example.com의 ip주소는 93.184.214.34이다"라는 정보를 저장해 두고, 사용자가 www.example.com이라고 접속했을 때, hosts파일의 내용을 읽어서 컴퓨터는 93.184.214.34에 접속하게된다.
  - hosts파일을 이용해서 도메인 네임 시스템을 통하지 않고도 자주 사용하는 사이트나 자신만 사용하는 사이트의 도메인 주소 같은 호스트의 이름을 부여할 수 있다.





## DNS(도메인 네임 시스템)

- IP주소는 기억하기 힘드므로 이를 해결하기 위해 나온 것이 DNS
- DNS를 통해 IP 주소를 일일이 기억하지 않고, 사람이 쉽게 기억할 수 있는 도메인 네임을 통해 다른 컴퓨터(서버)에 접속할 수 있습니다.
- 브라우저가 도메인 네임 서버에 도메인 네임으로 요청하게 되면, 도메인 네임 서버는 도메인 네임을 가진 서버의 IP를 반환합니다.





## 서브넷(subnet)

- A클래스는 1개의 네트워크 ID당 2^24의 호스트를 할당할 수 있습니다. 어떤 기간(한 네트워크)에서 필요한 IP개수가 200개라면 나머지 IP주소는 리소스 낭비가 됩니다. 이러한 문제를 해결하기 위해 나온 개념이 서브넷.
- 서브넷은 **네트워크 안에 네트워크**라는 의미.
- 하나의 네트워크를 나누어 네트워크를 효율적으로 분배할 수 있습니다.
- 서브넷 마스크라는 개념으로 네트워크를 나눕니다.
- **서브넷팅을 함으로써 한정된 자원을 효율적으로 배분하고 네트워크 성능이 향상됩니다. 왜냐하면 너무 큰 브로드 캐스트 도메인은 네트워크 환경에서 패킷 전송을 느리게하고 성능 저하를 발생시키므로 네트워크를 쪼개서 통신 성능을 보장합니다.**

### 서브넷 마스크

- 서브넷 마스크는 IP주소처럼 8bit씩 4블럭, 총 32bit로 구성되어 있습니다.
- 서브넷 마스크는 32비트 앞에서 부터 1씩 채우고 나머지는 0으로 채웁니다.
- 서브넷 마스크 표기 방법
  - 192.168.10.1/25
  - C클래스이고 /25 부분에서 1이 25개라는 뜻이니
  - 1111 1111 . 1111 1111 . 1111 1111 . 1000 0000(255.255.255.128가 서브넷 마스크
  - 즉, 192.168.1.1과 위의 서브넷 마스크를 and연산을 하여 나온 값이 네트워크 ID가 됩니다.
  - 기존 네트워크 ID : 1100 0000 . 1010 1000 . 0000 1010 . 0000 0000
  - 서브넷팅한 IP주소
    - 192.168.10.0000 0000 ~ 192.168.10.0111 1111
    - 192.168.10.1000 0000 ~ 192.168.10.0111 1111
    - 위와같이 
  - 그렇다면 192.168.1.





- 예

  1. 192.168.1.0/24

     - 192는 C클래스.
     - 컴퓨터에게 24bit까지가 네트워크 ID인지 알 수 있게 해준다.
     - 호스트 ID를 192.168.0 ~ 192.168.255까지 사용가능하다는 것을 알 수 있다.
     - 즉, 256대의 host가 사용할 수 있는 네트워크다.

  2. 문제

     - 10.0.0.0/8
     - 본사
       - 부서 : 10개 부서
       - 인원 : 10인 이하 6개 부서, 20인 이하 4개 부서
     - 1 단계
       - 1111 1111 . 0000 0000 . 0000 0000 . 0000 0000인 상태에서 

     - 2단계
       - 
       - 
       - 
       - 